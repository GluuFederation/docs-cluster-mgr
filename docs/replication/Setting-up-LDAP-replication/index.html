
<!DOCTYPE html>
<html class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documenation for Gluu Cluster Manager">
      
      
      
      
        <link rel="shortcut icon" href="../../favicon.ico">
      
      <meta name="generator" content="mkdocs+mkdocs-material#1.0.3">
    
    
      
        <title>Replication - Gluu Docs</title>
      
    
    
      <script src="../../assets/javascripts/modernizr-facb31f4a3.js"></script>
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application-f3ab63f78a.css">
      
      
    
    
  </head>
  
  
  
  
    <body>
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
	 <div class="md-flex__cell md-flex__cell--shrink">
	    <a href="https://gluu.org/docs/" title="Gluu Docs" class=" md-logo  md-header-nav__button">
          
            <img src="../../gluu.jpg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  Replication Guide
                </span>
              
            
            Replication
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <div class="md-search__overlay"></div>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false">
      <label class="md-icon md-search__icon" for="search"></label>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result"></div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            
              


  


  <a href="https://github.com/GluuFederation/docs-clustermgr-prod" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

            
          </div>
      </div>
    </div>
<!-- Second Nav Bar 
<nav class="md-secondary-header-nav md-grid" style="
    height: 58px;
    background: white;
	color: #555555;
	font-weight: bold;
	font-size; 8px
	overflow: hidden;
">
<div class="md-flex-secondary" style="
    display: table;
    padding: 10px;
">
<label for="Versions">Ver:<select id="versions" onchange="window.location.href=this.value;" style="
    position: relative;
    display: inline-block;
    min-width: 100%;
    /* width: 120%; */
    height: 34px;
    padding: 6px 30px 6px 15px;
    color: #555555;
    border: none;
    background: transparent;
    outline: none;
    -webkit-appearance: none;
    z-index: 99;
    cursor: pointer;
    font-size: 16px;
    margin-bottom: 10px;
    border: 1px;
">
  <option value="/docs">Latest</option>
  <option value="/docs/2.4.4">2.4.4</option>
    </select> 
</label>
 </div>
 </nav>-->
   </nav>
</header>
    
    <div class="md-container">
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary">

  <label class="md-nav__title md-nav__title--site" for="drawer">
    <i class=" md-logo  md-nav__button">
      
        <img src="../../gluu.jpg">
      
    </i>
    Gluu Docs
	<label for="Versions">Ver:
	  <select id="versions" onchange="window.location.href=this.value;" style="
		position: inherit;
		display: inline;
		min-width: 25%;
		/* width: 120%; */
		height: 22px;
		padding: 5px 15px 5px 5px;
		color: Black;
		border: none;
		background: transparent;
		outline: none;
		-webkit-appearance: none;
		z-index: 99;
		cursor: pointer;
		font-size: 10px;
		margin-bottom: 10px;
		border: 1px solid black;
		overflow: auto
	">
	  <option value="/3.0.2">3.0.2</option>
	  <option value="/docs">All Products</option>
		</select> 
	</label>
  </label>
    
    <div class="md-nav__source">
      


  


  <a href="https://github.com/GluuFederation/docs-clustermgr-prod" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  <li class="md-nav__item">
    
      <a href="../.." title="Home" class="md-nav__link">
        Home
      </a>
    
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Installation Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-2">
        Installation Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../installation/installation/" title="Install Cluster Manager" class="md-nav__link">
        Install Cluster Manager
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Upgrade Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-3">
        Upgrade Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../installation/upgrade/" title="Upgrade Gluu Cluster Manager" class="md-nav__link">
        Upgrade Gluu Cluster Manager
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Configuration Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-4">
        Configuration Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../configuration/configuring-GluuCE-Cluster/" title="Configuring Gluu CE for Replication" class="md-nav__link">
        Configuring Gluu CE for Replication
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../configuration/configuring-oxAuth-Logs/" title="Configuring oxAuth logs" class="md-nav__link">
        Configuring oxAuth logs
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../configuration/configuring-oxAuth-Key-Rotation/" title="Configuring oxAuth Key Rotation" class="md-nav__link">
        Configuring oxAuth Key Rotation
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" checked>
    
    <label class="md-nav__link" for="nav-5">
      Replication Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-5">
        Replication Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Replication
      </label>
    
    <a href="./" title="Replication" class="md-nav__link md-nav__link--active">
      Replication
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pre-requisites" title="Pre-requisites" class="md-nav__link">
    Pre-requisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#delta-syncrepl-mode" title="Delta-Syncrepl Mode" class="md-nav__link">
    Delta-Syncrepl Mode
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#first-steps" title="First Steps" class="md-nav__link">
    First Steps
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-up-the-provider" title="Setting up the provider" class="md-nav__link">
    Setting up the provider
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-up-the-consumers" title="Setting up the Consumers" class="md-nav__link">
    Setting up the Consumers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-the-replication" title="Testing the replication" class="md-nav__link">
    Testing the replication
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mirror-mode" title="Mirror Mode" class="md-nav__link">
    Mirror Mode
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" title="Troubleshooting" class="md-nav__link">
    Troubleshooting
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Troubleshooting
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-6">
        Troubleshooting
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../troubleshooting/troubleshooting/" title="Troubleshooting Issues" class="md-nav__link">
        Troubleshooting Issues
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pre-requisites" title="Pre-requisites" class="md-nav__link">
    Pre-requisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#delta-syncrepl-mode" title="Delta-Syncrepl Mode" class="md-nav__link">
    Delta-Syncrepl Mode
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#first-steps" title="First Steps" class="md-nav__link">
    First Steps
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-up-the-provider" title="Setting up the provider" class="md-nav__link">
    Setting up the provider
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-up-the-consumers" title="Setting up the Consumers" class="md-nav__link">
    Setting up the Consumers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-the-replication" title="Testing the replication" class="md-nav__link">
    Testing the replication
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mirror-mode" title="Mirror Mode" class="md-nav__link">
    Mirror Mode
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" title="Troubleshooting" class="md-nav__link">
    Troubleshooting
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
               
                 <a href="https://github.com/GluuFederation/docs-clustermgr-prod/blob/master/source/replication\Setting-up-LDAP-replication.md" title="Edit this page" class="md-icon md-content__edit">edit</a>
               
              
                
                <h1 id="configuring-replicatoin-between-gluu-ce-server-using-cluster-manager">Configuring replicatoin between Gluu CE server using Cluster Manager<a class="headerlink" href="#configuring-replicatoin-between-gluu-ce-server-using-cluster-manager" title="Permanent link">#</a></h1>
<h2 id="pre-requisites">Pre-requisites<a class="headerlink" href="#pre-requisites" title="Permanent link">#</a></h2>
<ul>
<li><strong>Gluu Server or LDIF Export</strong> - This Gluu server or the LDIF export of the Gluu Server's contents would be used as the main source of LDAP data.</li>
<li><strong>Provider Server</strong> - Vanilla Linux server with Symas OpenLDAP installed and <code>symas-openldap.conf</code> configured. (1 for Delta-Syncrepl configuration and 2 for MirrorMode configuration)</li>
<li><strong>Consumer Servers</strong> - Vanilla Linux servers with Symas OpenLDAP installed and <code>symas-openldap.conf</code> configured. (As many servers as it is required)</li>
</ul>
<h2 id="delta-syncrepl-mode">Delta-Syncrepl Mode<a class="headerlink" href="#delta-syncrepl-mode" title="Permanent link">#</a></h2>
<h3 id="first-steps">First Steps<a class="headerlink" href="#first-steps" title="Permanent link">#</a></h3>
<ol>
<li>Open the Gluu Cluster Manager in the browser. The user is welcomed with a page which gives the options to create two types of clusters.</li>
<li>Click <kbd>Setup</kbd> from the Delta-Syncrepl box.</li>
<li>If this is the first run of the application, you will be redirected to the configuration page to setup the user dn and the password for the replication user which will be used across the cluster for replication. Configure it.</li>
</ol>
<h3 id="setting-up-the-provider">Setting up the provider<a class="headerlink" href="#setting-up-the-provider" title="Permanent link">#</a></h3>
<ol>
<li>Then you are redirected to "New Provider" page. Enter the details and submit the form.<ul>
<li><strong>This is a Gluu Server</strong> - Check this box if the server is a Gluu Server and the OpenLDAP is inside chroot container.</li>
<li>(Optional) <strong>Gluu Server Version</strong> - If the above checkbox is marked, then the version of Gluu-Server will have to be selected here.</li>
<li><strong>Hostname</strong> - The hostname of the LDAP server</li>
<li><strong>IP Address</strong> - The IP address of the LDAP server</li>
<li><strong>Port</strong> - The port in which OpenLDAP is listening. Typical Gluu server would have <code>1636</code></li>
<li><strong>LDAP Admin Password</strong> - The password for LDAP server. For a Gluu server, this would be the password of Admin you created during installation via <code>setup.py</code></li>
<li><strong>LDAP Connection Protocol</strong> - OpenLDAP supports plain <code>ldap</code> and <code>ldaps</code> protocols. Gluu Server uses <code>ldaps</code></li>
<li><strong>TLS CA Certificate</strong> - If you are using SSL/TLS via <code>ldaps</code>, you will need to configure the TLS certificate locations. Enter location of CA cert on your LDAP server. For a typical Gluu server this would be <code>/etc/certs/openldap.pem</code> or <code>/etc/certs/openldap.crt</code> as it is self-signed.</li>
<li><strong>TLS Server Certificate</strong> - The location of server certificate. For typical gluu server it is <code>/etc/certs/openldap.crt</code></li>
<li><strong>TLS Server Key</strong> - The location of server certificate's key. For typical gluu server it is <code>/etc/certs/openldap.key</code>
<img alt="provider" src="../../img/replication/new_provider.png" /></li>
</ul>
</li>
<li>The app creates a slapd.conf using your data. You can add/change any configuration specific to your requirements and click <kdb>Setup Server</kbd></li>
<li>The server is setup. Click <kbd>Go to Dashboard</kbd> once the setup is complete. In case the setup throws some error, make necessary changes in the server via ssh, then refresh the page or click the retry button at the bottom of the page to run the setup again.</li>
<li>The dashboard lists the server added. Click <kbd>Initialize</kbd> -&gt; <kbd>Using Exported LDIF</kbd>.</li>
<li>Upload the <code>alldata.ldif</code> we exported from the Gluu Server. The cluster manager will import the LDIF data into the provider, and add the replication manager.</li>
<li>Once initialisation is complete an <kbd>Add Consumer</kbd> shows in the dashboard in the Actions box of the provider.</li>
</ol>
<h3 id="setting-up-the-consumers">Setting up the Consumers<a class="headerlink" href="#setting-up-the-consumers" title="Permanent link">#</a></h3>
<ol>
<li>Click <kbd>Add Consumer</kbd> next to the provider in the dashboard.</li>
<li>Fill in the details and submit the form for the consumer <code>slapd.conf</code> to be generated. As with the provider, make any special changes required and click Setup Server.</li>
<li>The consumer should be setup and configured. In case of errors, you can ssh into the server fix them and refresh the page to rerun the setup. If successfully setup, you would be asked to go to the Dashboard.</li>
</ol>
<h3 id="testing-the-replication">Testing the replication<a class="headerlink" href="#testing-the-replication" title="Permanent link">#</a></h3>
<ol>
<li>In the Dashboard, click <kbd>Start Test</kbd> under <strong>Test Replication</strong>. This adds a test entry to the provider, verifies the data is replicated to all its consumers, removes the data from the provider and ensures, it is removed from all the consumers as well.</li>
</ol>
<h2 id="mirror-mode">Mirror Mode<a class="headerlink" href="#mirror-mode" title="Permanent link">#</a></h2>
<ol>
<li>Open Cluster Manager in the browser. Click the <kbd>Setup</kbd> button in the MirroMode box.
    <img alt="homepage" src="../../img/replication/homepage.png" /></li>
<li>If cluster manager hasn't been configured earlier, the user will be prompted to configure it before setting up the cluster. The values <strong>Replication Manager DN</strong> and the <strong>Password</strong> are mandatory. Other fields are optional. Enter the values and <kbd>Update Configuration</kbd>.
    <img alt="configpage" src="../../img/replication/config_page.png" /></li>
<li>Now a <strong>New Provider</strong> can be added to the cluster. The fields are:<ul>
<li><strong>This is a Gluu Server</strong> - Check this box if the server is a Gluu Server and the OpenLDAP is inside chroot container.</li>
<li>(Optional) <strong>Gluu Server Version</strong> - If the above checkbox is marked, then the version of Gluu-Server will have to be selected here.</li>
<li><strong>Hostname</strong> - The hostname of the LDAP server</li>
<li><strong>IP Address</strong> - The IP address of the LDAP server</li>
<li><strong>Port</strong> - The port in which OpenLDAP is listening. Typical Gluu server would have <code>1636</code></li>
<li><strong>LDAP Admin Password</strong> - The password for LDAP server. For a Gluu server, this would be the password of Admin you created during installation via <code>setup.py</code></li>
<li><strong>LDAP Connection Protocol</strong> - OpenLDAP supports plain <code>ldap</code> and <code>ldaps</code> protocols. Gluu Server uses <code>ldaps</code></li>
<li><strong>TLS CA Certificate</strong> - If you are using SSL/TLS via <code>ldaps</code>, you will need to configure the TLS certificate locations. Enter location of CA cert on your LDAP server. For a typical Gluu server this would be <code>/etc/certs/openldap.pem</code> or <code>/etc/certs/openldap.crt</code> as it is self-signed.</li>
<li><strong>TLS Server Certificate</strong> - The location of server certificate. For typical gluu server it is <code>/etc/certs/openldap.crt</code></li>
<li><strong>TLS Server Key</strong> - The location of server certificate's key. For typical gluu server it is <code>/etc/certs/openldap.key</code>
<img alt="provider" src="../../img/replication/new_provider.png" /></li>
</ul>
</li>
<li>Click <kbd>Generate Provider Config</kbd>. This generates the <code>slapd.conf</code> file that would be used to setup the OpenLDAP. If the organization/admin wishes to make any specific changes, they can do so here.
    <img alt="slapd.conf editor" src="../../img/replication/conf_editor.png" /></li>
<li>If <code>slapd.conf</code> is satisfactory, then clicking <kbd>Setup Server</kbd> would setup the server ready for cluster usage. Wait until the <kbd>Add Mirror</kbd> appears at the bottom of the page.
    <img alt="Setup Provider" src="../../img/replication/setup_provider.png" />
    <img alt="slapd.conf editor" src="../../img/replication/add_mirror.png" /></li>
<li>Click the <kbd>Add Mirror</kbd> button and repeat the above step 3 to step 5 to setup the mirror server.</li>
<li>Once both the servers are setup for replication, we can initialize replication by adding the replication user. Go to dashboard and Initialize <strong>both the servers</strong></li>
<li>Click <kbd>Initialize</kbd> and select <code>Using existing data</code> if the provider LDAP already has the data (in case of gluu server), or <code>Using LDIF Data</code> if have some LDIF data backup that should be uploaded and used as the database.
    <img alt="Initialize Server" src="../../img/replication/initialize_using_existing.png" />
    <img alt="Initialization Done" src="../../img/replication/initialization_done.png" /></li>
</ol>
<h2 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link">#</a></h2>
<ul>
<li>For most part the web interface would log the errors encountered during the setup processes.</li>
<li>In case of some consumer misbehaving or is misconfigured, remove the server from the 
dashboard using the <kbd>Remove</kbd> button and re-add the server using <kbd>Add Consumer</kbd></li>
<li>
<p>Before adding the consumer remove the data and provider certificate from the consumer server(Server 2).</p>
<p><code>#service solserver stop</code></p>
<p><code>#rm -rf /opt/gluu/data</code></p>
<p><code>#rm /opt/symas/ssl/&lt;provider.crt&gt;</code></p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is not required to start LDAP manually, once the data and certificate is removed, 
this task would be taken care by cluster mananger once the consumer is added the 
cluster manager web application.</p>
</div>
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../configuration/configuring-oxAuth-Key-Rotation/" title="Configuring oxAuth Key Rotation" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Configuring oxAuth Key Rotation
              </span>
            </div>
          </a>
        
        
          <a href="../../troubleshooting/troubleshooting/" title="Troubleshooting Issues" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Troubleshooting Issues
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2017, Gluu, Inc.
          </div>
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application-2afe21e0b2.js"></script>
      <script>var config={url:{base:"../.."}},app=new Application(config);app.initialize()</script>
      
    
    
      
    
  </body>
</html>